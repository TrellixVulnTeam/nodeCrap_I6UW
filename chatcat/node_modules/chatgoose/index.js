var mongoose=require('mongoose'),Schema = mongoose.Schema,Model=mongoose.model;

module.exports.UserSch=new Schema({ //refers to a user in a particular chat
	name: String,
	color: String,
});

module.exports.MessageSch=new Schema({
	text: String,
	img: String
	/*
	when a user sends an image, it is uploaded to the conversation image directory
	*/
})

module.exports.AccountSch=new Schema({
	name: String,
	password: String,
	photos:[String] //a list of the urls of all of their photos
});

module.exports.ConvoSch=new Schema({
	people:[{usr:module.exports.UserSch,accnt:module.exports.AccountSch}],
	name: String,
	key: String 
	/*
every convo has a key. every message in the convo is a model with the name KEYmessage (but using the MessageSCh schema)
the image directory is going to be in public/images/key
key will either be randomly generated or taken from a database of unique keys
	*/
})